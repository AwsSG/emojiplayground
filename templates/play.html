{% extends "base.html" %}
{% block content %}


<div class="container">
    <div class="mt-3 mb-3 mt-md-5 mb-md-5 p-2 p-lg-5 black-border">
        <div class="container">
            <div class="row p-4 justify-content-center">
                <h2 class="create-title text-center">Solve Emoji Riddles</h2>
            </div>

            <div>
                <div class="row justify-content-center">
                    <div class="emoji-medium">
                        {{ riddle }}
                    </div>
                </div>
                <div class="row justify-content-center pt-3">
                    <div class="text-center phrase-input">
                        Guesses Remaning: <span id="guesses-remaining">3</span>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <form id="guess-form">
                        <div class="row justify-content-center">
                            <div id="guess-feedback">Enter your guess...</div>
                        </div>
                        <div class="row justify-content-center phrase-input">
                            <input name="guess" id="guess-input" required></input>
                        </div>
                        <div class="row justify-content-center pb-4">
                            <button class="landing-page-button btn btn-outline-secondary orange-hover" type="submit">Guess</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="container pb-4">
                <div class="row justify-content-center">
                    <a href="#">Next puzzle ></a>
                </div>
                <div class="row justify-content-center pt-3">
                    <a href="{{ url_for('playground') }}">Back to playground</a>
                </div>
            </div>
        </div>
    </div>
    <div id="current-rating">{{ rating }}</div>
    <div id="rated-message"></div>
</div>

<!-- Button trigger modal -->
<button hidden id="rating-modal-launcher" style="background: 'green'" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
  Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="puzzle-rate-modal">Did you like this puzzle?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
    <form id="rating-form">
       <input name="rating" type="hidden" id="hidden-rating-input" value="1" />
       <p id="modal-right-or-wrong"></p>
      <p>Give this puzzle a rating for other users...</p>
      <div class="star-container">
        <i style = "color: orange" class="star-rating star-1 fas fa-star fa-lg" data-star="1"></i>
        <i class="star-rating star-2 fas fa-star fa-lg" data-star="2"></i>
        <i class="star-rating star-3 fas fa-star fa-lg" data-star="3"></i>
        <i class="star-rating star-4 fas fa-star fa-lg" data-star="4"></i>
        <i class="star-rating star-5 fas fa-star fa-lg" data-star="5"></i>
      </div>
      </div>
      <div class="modal-footer">
        <button id="rating-modal-closer" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='js/guessingScript.js') }}"></script>
<script src="{{ url_for('static', filename='js/starRating.js') }}"></script>

{% endblock %}